<body class="avatar-page">

<main>

    <h1 class="avatar-title">Ibai Tamayo</h1>

    <div class="avatar-wrapper">
        <img src="../media/avatars/avatar_ibai.png"
             alt="Ibai Tamayo"
             class="avatar-img">
    </div>

    <div id="answerContainer" class="avatar-answer-area">
        <p class="placeholder">Selecciona una pregunta.</p>
    </div>

    <h2>¿Qué quieres preguntar?</h2>
    <div id="questionsContainer"></div>

</main>

<div style="margin-top:2rem; text-align:center;">
    <a href="../mapa.html"
       class="btn avatar-overlay-close"
       style="text-decoration:none; padding:8px 18px; display:inline-block;">
        Secuencia investigación
    </a>
</div>

<script src="../js/engine.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    if (window.GameEngine && typeof GameEngine.renderAvatar === "function") {
        GameEngine.renderAvatar("ibai", { nodeId: "pico" });
    }

    const answerContainer = document.getElementById("answerContainer");

    document.addEventListener("click", function (ev) {
        const btn = ev.target;
        if (
            btn.tagName === "BUTTON" &&
            btn.textContent.trim() === "Cerrar"
        ) {
            ev.preventDefault();
            const children = Array.from(answerContainer.children);
            children.forEach(ch => {
                if (!ch.classList.contains("placeholder")) {
                    ch.remove();
                }
            });
        }
    });
});
</script>

</body>
</html>
